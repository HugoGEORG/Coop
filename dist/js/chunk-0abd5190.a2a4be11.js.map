{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./src/views/Conversation.vue?18fc","webpack:///./src/components/Message.vue?d6f4","webpack:///src/components/Message.vue","webpack:///./src/components/Message.vue?27db","webpack:///./src/components/Message.vue","webpack:///src/views/Conversation.vue","webpack:///./src/views/Conversation.vue?950c","webpack:///./src/views/Conversation.vue","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/views/Conversation.vue?405f","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/components/Message.vue?7565"],"names":["global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","prototype","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","editingConv","preventDefault","editConv","conv","id","label","topic","model","value","callback","$$v","$set","expression","_v","_s","messages","length","created_at","modified_at","_e","_l","message","id_channel","envoyerMessage","apply","arguments","staticStyle","nvMessage","staticRenderFns","member_id","$store","state","member","name","params","auteur","fullname","editing","_m","props","data","methods","component","components","unMessage","$route","members","mounted","$api","get","channel_id","post","$buefy","toast","open","recupAuteur","idMessage","returnValue","put","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","undefined","$","target","proto","forced","fails","METHOD_NAME","argument","method","call"],"mappings":"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","file":"js/chunk-0abd5190.a2a4be11.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns is-multiline is-flex is-flex-direction-column is-justify-content-space-between\",attrs:{\"id\":\"conversation\"}},[_c('div',{staticClass:\"box column is-10 is-offset-1 has-text-centered\",attrs:{\"id\":\"container-haut\"}},[_c('div',{staticClass:\"has-text-right\"},[_c('button',{attrs:{\"id\":\"editButton\"},on:{\"click\":function($event){_vm.editingConv = !_vm.editingConv}}},[(!_vm.editingConv)?_c('i',{staticClass:\"fa-2x fa-solid fa-sliders\"}):_c('i',{staticClass:\"fa-2x fas fa-arrow-left\"})])]),(!_vm.editingConv)?_c('div',[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(this.conv.label))]),_c('h2',{staticClass:\"subtitle mb-2\"},[_vm._v(_vm._s(this.conv.topic))]),_c('p',{staticClass:\"mb-2\"},[_vm._v(_vm._s(this.messages.length)+\" messages\")]),_c('p',{staticClass:\"is-size-7\"},[_vm._v(\"Créé le: \"+_vm._s(this.conv.created_at)+\" \"),(this.conv.created_at !== this.conv.modified_at)?_c('span',[_vm._v(\"| Modifié le: \"+_vm._s(this.conv.modified_at))]):_vm._e()])]):_c('form',{staticClass:\"columns is-multiline\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editConv(_vm.conv.id, _vm.conv.label, _vm.conv.topic)}}},[_c('b-field',{staticClass:\"column is-4 is-offset-4 mb-1 p-1\",attrs:{\"horizontal\":\"\",\"label\":\"Titre\"}},[_c('b-input',{attrs:{\"type\":\"text\",\"autofocus\":\"\"},model:{value:(_vm.conv.label),callback:function ($$v) {_vm.$set(_vm.conv, \"label\", $$v)},expression:\"conv.label\"}})],1),_c('b-field',{staticClass:\"column is-4 is-offset-4 mb-1 p-1\",attrs:{\"horizontal\":\"\",\"label\":\"Topic\"}},[_c('b-input',{attrs:{\"type\":\"text\",\"autofocus\":\"\"},model:{value:(_vm.conv.topic),callback:function ($$v) {_vm.$set(_vm.conv, \"topic\", $$v)},expression:\"conv.topic\"}}),_c('button',{staticClass:\"button\",attrs:{\"id\":\"check\"}},[_c('i',{staticClass:\"fas fa-check\"})])],1)],1)]),_c('div',{staticClass:\"box px-5 column is-10 is-offset-1 is-flex is-flex-grow-2 is-flex-direction-column-reverse\",attrs:{\"id\":\"chatbox\"}},_vm._l((_vm.messages),function(message){return _c('div',{staticClass:\"columns mb-2\"},[_c('un-message',{attrs:{\"message\":message,\"id_channel\":_vm.id_channel}})],1)}),0),_c('div',{staticClass:\"box column is-10 is-offset-1\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.envoyerMessage.apply(null, arguments)}}},[_c('b-field',[_c('b-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"autofocus\":\"\",\"grouped\":\"\"},model:{value:(_vm.nvMessage),callback:function ($$v) {_vm.nvMessage=$$v},expression:\"nvMessage\"}}),_c('b-button',{staticClass:\"button\",attrs:{\"id\":\"envoie\"}},[_c('i',{staticClass:\"fa-solid fa-share\"})])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.message.member_id !== _vm.$store.state.member.id)?_c('div',{staticClass:\"box mt-5 column is-5\"},[(_vm.message.auteur)?_c('router-link',{staticClass:\"is-underlined\",attrs:{\"to\":{name:'FicheMembre', params:{id: _vm.message.auteur.id }}}},[_vm._v(_vm._s(_vm.message.auteur.fullname))]):_c('p',{staticClass:\"is-underlined\"},[_vm._v(\"Utilisateur supprimé\")]),_c('p',{staticClass:\"my-3 px-2 messageText\"},[_vm._v(_vm._s(_vm.message.message))]),(_vm.message.created_at === _vm.message.modified_at)?_c('p',{staticClass:\"is-size-7 has-text-right\"},[_vm._v(\"Écrit le \"+_vm._s(_vm.message.created_at))]):_c('p',{staticClass:\"is-size-7 has-text-right\"},[_vm._v(\"Modifié le \"+_vm._s(_vm.message.modified_at))])],1):_c('div',{staticClass:\"box mt-5 column is-5 is-offset-7 has-background-info has-text-right has-text-white\"},[_c('div',{staticClass:\"is-flex is-justify-content-space-between\"},[(!_vm.editing)?_c('p',{staticClass:\"messageText has-text-left my-3 px-2\"},[_vm._v(_vm._s(_vm.message.message))]):_c('form',{staticClass:\"is-flex is-justify-content-center mb-2\"},[_c('b-input',{attrs:{\"type\":\"text\",\"autofocus\":\"\"},model:{value:(_vm.message.message),callback:function ($$v) {_vm.$set(_vm.message, \"message\", $$v)},expression:\"message.message\"}}),_vm._m(0)],1),_c('div',[(!_vm.editing)?_c('div',{staticClass:\"is-flex is-align-items-start\"}):_c('div',{staticClass:\"is-flex is-align-items-start\"},[_c('button',{staticClass:\"editButtons\",on:{\"click\":function($event){_vm.editing = false}}},[_c('i',{staticClass:\"fas fa-arrow-left\"})])])])]),(_vm.message.created_at === _vm.message.modified_at)?_c('p',{staticClass:\"is-size-7 has-text-right\"},[_vm._v(\"Écrit le \"+_vm._s(_vm.message.created_at))]):_c('p',{staticClass:\"is-size-7 has-text-right\"},[_vm._v(\"Modifié le \"+_vm._s(_vm.message.modified_at))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"button\"},[_c('i',{staticClass:\"fas fa-check\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <!-- utilisateur différent de celui connecté -->\n  <div v-if=\"message.member_id !== $store.state.member.id\" class=\"box mt-5 column is-5\">\n    <router-link :to=\"{name:'FicheMembre', params:{id: message.auteur.id }}\" v-if=\"message.auteur\" class=\"is-underlined\">{{ message.auteur.fullname }}</router-link>\n    <p v-else class=\"is-underlined\">Utilisateur supprimé</p>\n    <p class=\"my-3 px-2 messageText\">{{ message.message }}</p>\n    <p v-if=\"message.created_at === message.modified_at\" class=\"is-size-7 has-text-right\">Écrit le {{ message.created_at }}</p>\n    <p v-else class=\"is-size-7 has-text-right\">Modifié le {{ message.modified_at }}</p>\n  </div>\n\n  <!-- Utilisateur connecté -->\n  <div v-else class=\"box mt-5 column is-5 is-offset-7 has-background-info has-text-right has-text-white\">\n    <div class=\"is-flex is-justify-content-space-between\">\n      <p v-if=\"!editing\" class=\"messageText has-text-left my-3 px-2\">{{ message.message }}</p>\n      <form v-else class=\"is-flex is-justify-content-center mb-2\">\n        <b-input type=\"text\" v-model=\"message.message\" autofocus></b-input>\n        <button class=\"button\"><i class=\"fas fa-check\"></i></button>\n      </form>\n      <div>\n        <div v-if=\"!editing\" class=\"is-flex is-align-items-start\">\n         \n        </div>\n        <div v-else class=\"is-flex is-align-items-start\">\n          <button @click=\"editing = false\" class=\"editButtons\"><i class=\"fas fa-arrow-left\"></i></button>\n        </div>\n      </div>\n    </div>\n    <p v-if=\"message.created_at === message.modified_at\" class=\"is-size-7 has-text-right\">Écrit le {{ message.created_at }}</p>\n    <p v-else class=\"is-size-7 has-text-right\">Modifié le {{ message.modified_at }}</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Message\",\n  props: [\"message\", \"id_channel\"],\n  data() {\n    return {\n      editing: false\n    }\n  },\n  methods: \n  {\n  }\n}\n</script>\n\n<style scoped>\n.messageText{\n  overflow: auto;\n  overflow-wrap: break-word;\n}\n.editButtons{\n  background-color: rgba(0,0,0,0);\n  border: none;\n}\n\n.editButtons i {\n  color: white;\n}\n\n.editButtons:hover{\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=2468b307&scoped=true&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=2468b307&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2468b307\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div id=\"conversation\" class=\"columns is-multiline is-flex is-flex-direction-column is-justify-content-space-between\">\n  <div id=\"container-haut\" class=\"box column is-10 is-offset-1 has-text-centered\">\n    <div class=\"has-text-right\">\n      <button id=\"editButton\" @click=\"editingConv = !editingConv\">\n        <i v-if=\"!editingConv\" class=\"fa-2x fa-solid fa-sliders\"></i>\n        <i v-else class=\"fa-2x fas fa-arrow-left\"></i>\n      </button>\n    </div>\n    <div v-if=\"!editingConv\">\n      <h1 class=\"title\">{{ this.conv.label }}</h1>\n      <h2 class=\"subtitle mb-2\">{{ this.conv.topic }}</h2>\n      <p class=\"mb-2\">{{this.messages.length}} messages</p>\n      <p class=\"is-size-7\">Créé le: {{ this.conv.created_at }} <span v-if=\"this.conv.created_at !== this.conv.modified_at\">| Modifié le: {{ this.conv.modified_at }}</span></p>\n    </div>\n    <form v-else @submit.prevent=\"editConv(conv.id, conv.label, conv.topic)\" class=\"columns is-multiline\">\n      <b-field horizontal label=\"Titre\" class=\"column is-4 is-offset-4 mb-1 p-1\">\n        <b-input type=\"text\" v-model=\"conv.label\" autofocus>\n        </b-input>\n      </b-field>\n\n      <b-field horizontal label=\"Topic\" class=\"column is-4 is-offset-4 mb-1 p-1\">\n        <b-input type=\"text\" v-model=\"conv.topic\" autofocus>\n        </b-input>\n\n         <button id=\"check\" class=\"button\"><i class=\"fas fa-check\"></i></button>\n      </b-field>\n\n     \n    </form>\n  </div>\n  <div id=\"chatbox\" class=\"box px-5 column is-10 is-offset-1 is-flex is-flex-grow-2 is-flex-direction-column-reverse\">\n    <div v-for=\"message in messages\" class=\"columns mb-2\">\n      <un-message :message=\"message\" :id_channel=\"id_channel\"></un-message>\n    </div>\n  </div>\n  <div class=\"box column is-10 is-offset-1\">\n    <form @submit.prevent=\"envoyerMessage\">\n      <b-field>\n        <b-input type=\"text\" style=\"width: 100%;\" v-model=\"nvMessage\" autofocus grouped>\n        </b-input>\n        <b-button id=\"envoie\" class=\"button\"><i class=\"fa-solid fa-share\"></i></b-button>\n      </b-field>\n    \n    </form>\n  </div>\n</div>\n</template>\n\n<script>\nimport unMessage from \"@/components/Message\";\n\nexport default {\n  name: \"Conversation\",\n  components:{\n    unMessage\n  },\n  data(){\n    return{\n      id_channel: this.$route.params.id,\n      conv: [],\n      messages: [],\n      members: [],\n      nvMessage: \"\",\n      editingConv: false\n    }\n  },\n  mounted() {\n    this.$api.get(`members`).then(response => {\n      this.members = response.data;\n    })\n    this.$api.get(`channels/${this.id_channel}`).then(response => {\n      this.conv = response.data;\n    })\n    this.$api.get(`channels/${this.id_channel}/posts`).then(response => {\n      this.messages = response.data;\n      this.messages.forEach(message => {\n        message['auteur'] = this.recupAuteur(message.member_id)\n      })\n    })\n  },\n  methods:{\n    envoyerMessage(){\n      if (!this.nvMessage){\n        this.$buefy.toast.open('Renseigner un message !')\n      } else {\n        let donnees = {\n          channel_id: this.id_channel,\n          member_id: this.$store.state.member.id,\n          message: this.nvMessage\n        }\n        this.$api.post(`channels/${this.id_channel}/posts`, donnees).then(response => {\n          this.messages.unshift(response.data)\n          this.nvMessage = \"\";\n        })\n      }\n    },\n    recupAuteur(idMessage){\n      let returnValue;\n      this.members.forEach(member => {\n        if (member.id === idMessage){\n          returnValue = member\n        }\n      })\n      return returnValue;\n    },\n \n    editConv(id, label, topic){\n      if (!label) {\n        this.$buefy.toast.open(\"Renseigner un label !\")\n      } else if (!topic) {\n        this.$buefy.toast.open(\"Renseigner un topic !\")\n      } else {\n        let donnees = {\n          label: label,\n          topic: topic\n        }\n        this.$api.put(`channels/${this.id_channel}`, donnees).then(response => {\n          this.$buefy.toast.open(\"Conversation modifié\")\n          this.editingConv = false\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\ntemplate{\n  display: block;\n}\n#envoie{\n  border-top: none;\n  border-right: none;\n  border-bottom: none;\n  background-color: white;\n}\n#envoie:hover{\n  color: #00D1B2;\n}\n\n#check{\n  background-color: #00D1B2;\n}\n#conversation{\n  height: calc(100vh - 110px);\n  margin-top: 2%;\n}\n#chatbox{\n  height: calc(100vh - 400px);\n  overflow-y: scroll;\n}\n#editButton{\n  border: none;\n  background-color: white;\n  \n}\n#editButton:hover{\n  cursor: pointer;\n}\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Conversation.vue?vue&type=template&id=17ca53ce&scoped=true&\"\nimport script from \"./Conversation.vue?vue&type=script&lang=js&\"\nexport * from \"./Conversation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Conversation.vue?vue&type=style&index=0&id=17ca53ce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17ca53ce\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Conversation.vue?vue&type=style&index=0&id=17ca53ce&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=2468b307&scoped=true&lang=css&\""],"sourceRoot":""}